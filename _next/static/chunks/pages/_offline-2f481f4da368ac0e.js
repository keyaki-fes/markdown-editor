(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{74927:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_offline",function(){return s(91088)}])},91088:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return n}});var t=s(85893),o=s(14186);function n(){return(0,t.jsx)(o.default,{})}},14186:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return u}});var t=s(85893),o=s(9008),n=s.n(o),r=s(87536),a=s(13654);s(82207);var i=s(67294),d=s(93162);let c=()=>{let[e,l]=(0,i.useState)([0,0]);return(0,i.useLayoutEffect)(()=>{let e=()=>{l([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e};function u(){var e,l;let[s,o]=(0,i.useState)(null),[u,h]=(0,i.useState)(!1),g=async e=>{let l=e.target.files;if(null!=l&&l[0]){let s=l[0],t=new FileReader;t.readAsText(s),t.onload=()=>{o(t.result)}}},{register:x,watch:m,reset:b,formState:{errors:v}}=(0,r.cI)(),f={body:m("body")};function _(e){let l=document.querySelector("textarea");if(!l)return;let s=l.value,t=s.length,o=l.selectionStart,n=l.selectionEnd,r=s.substring(0,o),a="";switch(e){case"bold":a="**";break;case"italic":a="*";break;case"strikethrough":a="~~";break;case"inlinecode":a="`";break;case"link":a="[]()";break;case"image":a="![]()";break;case"backquote":a="> ";break;case"codeblock":a="```\n\n```";break;case"ul":a="- ";break;case"ol":a="1. ";break;case"hr":a="---";break;case"h1":a="# ";break;case"h2":a="## "}s=n==o?r+a+s.substring(n,t):r+a+s.substring(o,n)+a+s.substring(n,t),l.value=s}async function w(){let e=new Blob([f.body],{type:"text/markdown"}),l="markdown".concat(new Date().toLocaleDateString());(0,d.saveAs)(e,"".concat(l,".md"))}(0,i.useEffect)(()=>{var e;(null===(e=f.body)||void 0===e?void 0:e.length)>0&&localStorage.setItem("value",f.body)},[f.body]),(0,i.useEffect)(()=>{localStorage.getItem("value")&&b({body:localStorage.getItem("value")})},[]);let[p,j]=c();return(0,i.useEffect)(()=>{s&&b({body:s})},[s]),(0,t.jsxs)("div",{className:"md:px-8 px-4 bg-sky-100/50 w-screen h-screen flex flex-col",children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:"Keyaki Fes Markdown Editor"}),(0,t.jsx)("meta",{name:"description",content:"けやき祭IT管理部が開発したマークダウンエディタです"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsxs)("div",{className:"sm:flex py-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-900 font-medium leading-none",children:"KEYAKI FES"}),(0,t.jsx)("div",{className:"text-2xl text-gray-900 font-bold leading-none",children:"Markdown Editor"})]}),(0,t.jsxs)("label",{className:"ml-auto bg-gray-200 hover:bg-gray-300 text-sm text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",children:["Upload",(0,t.jsx)("input",{type:"file",name:"upload",accept:".md",onChange:g,className:"hidden"})]}),(0,t.jsx)("button",{onClick(){w()},className:"ml-2 bg-gray-200 hover:bg-gray-300 text-sm text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",children:"Download"}),(0,t.jsx)("button",{onClick(){h(!u)},className:"".concat(p<1024?"":"hidden"," ml-2 drop-shadow-[0_10px_10px_rgba(29,78,216,0.20)] w-24 text-sm font-semibold bg-blue-700 hover:bg-blue-800 text-slate-100 py-2 px-2 rounded items-center"),children:u?(0,t.jsx)(t.Fragment,{children:"Edit"}):(0,t.jsx)(t.Fragment,{children:"Preview"})})]}),(0,t.jsxs)("div",{className:"lg:grid gap-6 grid-cols-2 flex-auto overflow-y-scroll py-4",children:[(0,t.jsxs)("div",{className:"".concat(u&&p<1024?"hidden":""," h-full w-full flex flex-col gap-2"),children:[(0,t.jsxs)("div",{className:"rounded-md w-full text-sm gap-2 py-2 px-6 flex flex-row bg-white shadow",children:[(0,t.jsx)("div",{className:"hover:bg-blue-100 h-5 rounded w-5",onClick(){_("bold")},children:(0,t.jsx)("img",{src:"/format_bold_FILL0_wght400_GRAD0_opsz48.svg"})}),(0,t.jsx)("div",{className:"hover:bg-blue-100 h-5 rounded w-5",onClick(){_("italic")},children:(0,t.jsx)("img",{src:"/format_italic_FILL0_wght400_GRAD0_opsz48.svg"})}),(0,t.jsx)("div",{className:"hover:bg-blue-100 h-5 rounded w-5",onClick(){_("inlinecode")},children:(0,t.jsx)("img",{src:"/code_FILL0_wght400_GRAD0_opsz48.svg"})}),(0,t.jsx)("div",{className:"hover:bg-blue-100 h-5 rounded w-5",onClick(){_("codeblock")},children:(0,t.jsx)("img",{src:"/code_blocks_FILL0_wght400_GRAD0_opsz48.svg"})}),(0,t.jsx)("div",{className:"hover:bg-blue-100 h-5 rounded w-5",onClick(){_("link")},children:(0,t.jsx)("img",{src:"/link_FILL0_wght400_GRAD0_opsz48.svg"})}),(0,t.jsx)("div",{className:"hover:bg-blue-100 h-5 rounded w-5",onClick(){_("image")},children:(0,t.jsx)("img",{src:"/image_FILL0_wght400_GRAD0_opsz48.svg"})}),(0,t.jsx)("div",{className:"hover:bg-blue-100 h-5 rounded w-5",onClick(){_("ul")},children:(0,t.jsx)("img",{src:"/list_FILL0_wght400_GRAD0_opsz48.svg"})}),(0,t.jsx)("div",{className:"hover:bg-blue-100 h-5 rounded w-5",onClick(){_("ol")},children:(0,t.jsx)("img",{src:"/format_list_numbered_FILL0_wght400_GRAD0_opsz48.svg"})}),(0,t.jsx)("div",{className:"hover:bg-blue-100 h-5 rounded w-5",onClick(){_("backquote")},children:(0,t.jsx)("img",{src:"/format_quote_FILL0_wght400_GRAD0_opsz48.svg"})}),(0,t.jsx)("div",{onClick(){let e;localStorage.removeItem("value"),b({body:""}),(e=document.querySelector("textarea"))&&(e.value="")},className:" h-5 w-5 rounded ml-auto hover:bg-slate-100/50 hover:text-slate-400 cursor-pointer",children:(0,t.jsx)("img",{src:"/restart_alt_FILL0_wght400_GRAD0_opsz48.svg"})}),(0,t.jsx)("div",{onClick(){navigator.clipboard.writeText(f.body)},className:" h-5 w-5 rounded hover:bg-slate-100/50 hover:text-slate-400 cursor-pointer text-sm",children:(0,t.jsx)("img",{src:"/file_copy_FILL0_wght400_GRAD0_opsz48.svg"})})]}),(0,t.jsxs)("div",{className:"bg-white h-full w-full px-6 pt-4 pb-10 shadow-xl rounded-md",children:[(0,t.jsx)("textarea",{id:"body",spellCheck:"false",className:"overflow-y-scroll hidden-scrollbar h-full w-full resize-none focus:outline-none bg-white w-full h-full rounded-md text-gray-900",...x("body")}),(0,t.jsxs)("div",{className:"text-right text-sm text-slate-300",children:[null===(e=f.body)||void 0===e?void 0:e.trim().length,"word",(null===(l=f.body)||void 0===l?void 0:l.trim().length)>2?"s":""]})]})]}),(0,t.jsx)("div",{className:"".concat(!u&&p<1024?"hidden":""," overflow-y-scroll  overflow-x-scroll znc px-6 py-10 shadow-xl rounded-md h-full w-full bg-white text-gray-900"),children:(0,t.jsx)("p",{dangerouslySetInnerHTML:{__html:(0,a.ZP)(f.body||"")}})})]})]})}},22868:function(){},14777:function(){},99830:function(){},70209:function(){}},function(e){e.O(0,[714,605,774,888,179],function(){return e(e.s=74927)}),_N_E=e.O()}]);