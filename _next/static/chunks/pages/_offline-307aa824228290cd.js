(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{74927:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_offline",function(){return n(91088)}])},91088:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var l=n(85893),o=n(14186);function r(){return(0,l.jsx)(o.default,{})}},14186:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var l=n(85893),o=n(9008),r=n.n(o),s=n(87536),d=n(13654);n(82207);var a=n(67294),i=n(93162);let c=()=>{let[e,t]=(0,a.useState)([0,0]);return(0,a.useLayoutEffect)(()=>{let e=()=>{t([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e};function u(){var e,t;let[n,o]=(0,a.useState)(null),[u,x]=(0,a.useState)(!1),f=async e=>{let t=e.target.files;if(null!=t&&t[0]){let n=t[0],l=new FileReader;l.readAsText(n),l.onload=()=>{o(l.result)}}},{register:h,watch:m,reset:g,formState:{errors:y}}=(0,s.cI)(),b={body:m("body")};async function v(){let e=new Blob([b.body],{type:"text/markdown"}),t="markdown".concat(new Date().toLocaleDateString());(0,i.saveAs)(e,"".concat(t,".md"))}(0,a.useEffect)(()=>{var e;(null===(e=b.body)||void 0===e?void 0:e.length)>0&&localStorage.setItem("value",b.body)},[b.body]),(0,a.useEffect)(()=>{localStorage.getItem("value")&&g({body:localStorage.getItem("value")})},[]);let[w,p]=c();return(0,a.useEffect)(()=>{n&&g({body:n})},[n]),(0,l.jsxs)("div",{className:"md:px-8 px-4 bg-sky-100/50 w-screen h-screen flex flex-col",children:[(0,l.jsxs)(r(),{children:[(0,l.jsx)("title",{children:"Keyaki Fes Markdown Editor"}),(0,l.jsx)("meta",{name:"description",content:"けやき祭IT管理部が開発したマークダウンエディタです"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsxs)("div",{className:"sm:flex py-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-900 font-medium leading-none",children:"KEYAKI FES"}),(0,l.jsx)("div",{className:"text-2xl text-gray-900 font-bold leading-none",children:"Markdown Editor"})]}),(0,l.jsxs)("label",{className:"ml-auto bg-gray-200 hover:bg-gray-300 text-sm text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",children:["Upload",(0,l.jsx)("input",{type:"file",name:"upload",accept:".md",onChange:f,className:"hidden"})]}),(0,l.jsx)("button",{onClick(){v()},className:"ml-2 bg-gray-200 hover:bg-gray-300 text-sm text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",children:"Download"}),(0,l.jsx)("button",{onClick(){x(!u)},className:"".concat(w<1024?"":"hidden"," ml-2 drop-shadow-[0_10px_10px_rgba(29,78,216,0.20)] w-24 text-sm font-semibold bg-blue-700 hover:bg-blue-800 text-slate-100 py-2 px-2 rounded items-center"),children:u?(0,l.jsx)(l.Fragment,{children:"Edit"}):(0,l.jsx)(l.Fragment,{children:"Preview"})})]}),(0,l.jsxs)("div",{className:"lg:grid gap-6 grid-cols-2 flex-auto overflow-y-scroll py-4",children:[(0,l.jsxs)("div",{className:"".concat(u&&w<1024?"hidden":""," relative px-6 py-10 shadow-xl rounded-md h-full w-full bg-white"),children:[(0,l.jsx)("div",{onClick(){navigator.clipboard.writeText(b.body)},className:"text-slate-300 rounded-tr-md px-2 py-1 hover:bg-slate-100/50 hover:text-slate-400 cursor-pointer text-sm absolute top-0 right-0",children:"copy"}),(0,l.jsx)("textarea",{id:"body",spellCheck:"false",className:"overflow-y-scroll hidden-scrollbar h-full w-full resize-none focus:outline-none bg-white w-full h-full rounded-md text-gray-900",...h("body")}),(0,l.jsxs)("div",{className:"text-right text-sm text-slate-300",children:[null===(e=b.body)||void 0===e?void 0:e.trim().length,"word",(null===(t=b.body)||void 0===t?void 0:t.trim().length)>2?"s":""]})]}),(0,l.jsx)("div",{className:"".concat(!u&&w<1024?"hidden":""," overflow-y-scroll  overflow-x-scroll znc px-6 py-10 shadow-xl rounded-md h-full w-full bg-white text-gray-900"),children:(0,l.jsx)("p",{dangerouslySetInnerHTML:{__html:(0,d.ZP)(b.body||"")}})})]})]})}},22868:function(){},14777:function(){},99830:function(){},70209:function(){}},function(e){e.O(0,[714,605,774,888,179],function(){return e(e.s=74927)}),_N_E=e.O()}]);